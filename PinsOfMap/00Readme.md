# MyMapを改良した位置保存アプリケーション

所属: 埼玉大学工学部情報システム工学科
学籍番号: 17TI004
氏名: 中山慶祐
科目名: 実践的システム開発Ⅰ・Ⅱ


## 1) どういう機能を実現するために

実現したかった機能は「場所を探して」「記録する」機能である。

場所を探すために

- 現在地の表示ボタンを追加
- 検索タブの追加

場所を保存するために

- ピンを建てる
- お気に入りタブの追加
- データの永続化

を行った

## 2) どのファイルのどこをどういう風に改良したのか

### 現在地の表示ボタンを追加

- `ViewController.swift`の` override func viewDidLoad()`内43-50行目で画面にボタンを追加
- `ViewController.swift`の`@objc func nowLocationTapped(_ sender: UIButton)`（(99-119行目)でボタン押下時のコールバックを追加

### ピンを建てる

- `ViewController.swift`上で発生したイベントでピンを建てる。
- データの追加、変更、永続化は`PINs.swift`で行っている。ピンを建てるのも、インスタンスを参照渡しすることで`PINs.swift`上でメソッドを呼んでいる。

### 検索タブの追加

- `Main.storyboard`上で、Sceneを追加しsegueを指定
- `SearchViewController.swift`で、追加したSceneに関する処理を記述
- `Geocode.swift`に(逆)ジオコーディングに関する処理を記述 (他タブでも必要なためクラスに切り出し共通化)

### お気に入りタブの追加

- `FavoriteViewController.swift`で追加したSceneに関する処理を記述
- 実際に表示するデータは`PINs.swift`から読み出している。

### その他

ViewController上にコンパスやスケールを表示するなど細かい追記部分は多数ある。
ピンの削除、現在地未取得・取得不可エラー処理にダイアログボックスを使用しているが、生成に必要なコードが長かったので`SimpleDialog.swift`に切り出している。

## 3) 改良結果

様々な機能追加を行ったことにより、概ね次のような使用方法を実現できた。

1. 地図タブ・検索タブから場所を探す
1. 探した場所をロングタップすることでピンを建てる
1. ピンを立てた場所を振り返るときはお気に入りタブを開く

[発表時に流した動画](https://youtu.be/Rw5-2wDedR0)も参考としてリンクを掲載する。
